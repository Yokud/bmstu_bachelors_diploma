Добрый день, уважаемая комиссия

2 слайд.

Целью работы является разработать метод наложения теней в дополненной реальности на основе информации о глубине точек кадра.

Для достижения цели требуется решить задачи, представленные на слайде.

3 слайд.

Дополненная реальность - технология интеграции цифровой информации и изображений объектов действительного (физического) мира в режиме реального времени.

Дополненная реальность применяется во многих сферах, примеры представлены на слайде.

Также на слайде представлены примеры дополненной реальности. На изображении слева видно отсутствие тени виртуального объекта, что нарушает иллюзию и может вызывать дискомфорт у наблюдателя. На изображении справа можно увидеть пример, когда не учитывается геометрия окружения, из-за чего тени корректно могут отбрасываться только на ту плоскость, на которой "стоит" сам объект.

4 слайд.

Для решения этих проблем необходимо решить задачи, представленные на слайде.

Также на слайде представлены существующие способы решения.

5 слайд.

На слайде представлена таблица сравнения существующих методов по заданным критериям. 

Из результатов сравнения видно, что различные методы подходят для разных случаев наложения теней в дополненной реальности, но все из них пересчитывают положение источников света, даже если оно не меняется, что избыточно. Поэтому было решено разработать собственный метод для решения данной проблемы.

6 слайд.

На слайде представлен пример карты глубины с некоторой постобработкой, тк исходное изображение гораздо темнее. Это один из способов учесть трёхмерную геометрию окружения.

Существует несколько способов получения карты глубины:
	Структурированный свет
	Стереокамера
	Время полета (ToF)
	Лидар (LiDAR)

Также существует несколько методов построения тени:
	Теневая карта
	Теневой объем
	Обратная трассировка лучей

7 слайд.

На слайде представлена формальная постановка задачи и введены ограничения метода.

Если сферическая панорама окружения не соответствует второму ограничению, то на ней нельзя однозначно определить области, где могут быть источники света, из-за рассеянного света.

8 слайд.

На слайде представлена IDEF0-диаграмма разработанного метода, на которой представлены отдельные метода этапы: обарботка, поиск, посроение геометрии и отрисовка.

Стоит уточнить, что первые два этапа выполняются только в начале сессии или при необходимости, например, смене системы освещения, а остальные 3 -- в каждом кадре

9 слайд.

Обработка изображений состоит из 4 этапов:

1. Проверка условия на возможность определения ИС
2. Поиск и выделение областей, где мб ИС
3. Применение медианного фильтра размытия. Это позволяет сделать выделенные области более гладкими и избавиться от мелких частиц вокруг них
4. Поиск контуров областей, где мб ИС

10 слайд.

Поиск положения ИС состоит из 3 этапов:

1. Поиск центроидов контуров с ИС
2. Вычисление положения ИС в сферических координатах, где в качестве радиуса выступает средняя глубина i-го контура внутри описанного прямоугольника без учета нулевых значений
3. Перевод сферических координат в декартовые

Напрямую трёхмерную координату с помощью структурированного света определить не получается, поскольку источник сам излучает, поэтому применяется вычисление внутри прямоугольника.

11 слайд.

Построение геометрии окружения состоит из 2 этапов:

1. Инициализация вершин с учетом значений карты глубины
2. Отсеивание тех полигонов, у которых разница в глубине между вершинами превышает порог прерывистости глубины

12 слайд.

Отрисовка теней представляет собой расстановку ИС по вычисленным координатам, если ранее не были расстановлены, создание полигональной сетки поверх окружения, получение теней, падающие на сетку и синтез конечного изображения.

13 слайд.

На слайде представлен формат входных и выходных данных. Глубина цвета в 64 бит позволяет полностью уместить диапазон возможных значений глубины пикселя. В данном случае это значения от 800 до 4000.

14 слайд.

На слайде представлена схема структуры рзработанного приложения. Оно состоит из модулей загрузки панорма, поиска ИС, построения сцены и синтеза изображения, взаимодействия с моделями и взаимодействия с кинект

15 слайд.

На слайде представлено сравнение тени от виртуального объекта и реального. Из изображения можно увидеть, что направления теней от виртуального объекта и реального совпадают, даже наблюдается искажение тени при проецировании на вертикальную и горизонтальную поверхность, небольшие различия лишь в интенсивности и четкости тени у виртуального объекта.

16 слайд.

Т. к. у Kinect нет GPS-модуля и гироскопа, то синхронизировать положение виртуальной камеры с положением Kinect в помещении требуется пользователю. Для перемещения камеры используются клавиши W, A, S, D, Space и Shift, а для поворота - R, F, T, G

Также есть система управления виртуальными объектами, набор которых представлен на слайде. Их можно добавлять на сцену, т. е. создавать, выбирать для перемещения по сцене, поворота и удаления со сцены.

17 слайд.

Для исследования поведения тени от виртуального объекта была предложена классификация поверхностей, представленная на слайде.

Для оценки степени реалистичности поведения тени была введена пятибальная шкала оценки реалистичности формируемой тени, где 1 - поведение тени совершенно не похоже на поведение реальной тени и 5 - поведение тени полностью соответствует поведению реальной тени.

18 слайд.

На слайде представлены параметры исследования: количество снимков для экспертной оценки поведения тени на каждой поверхности и количество опрошенных людей.

Из результатов оценки видно, что в реализованном методе поведение тени от виртуального объекта на различные поверхности соответствует реальной тени.

19 слайд.

На слайде представлены сравнения методов по времени вычисления положения ИС в мс и технические характеристики ПК, на котором проводилось сравнение.

Из результатов сравнения можно увидеть, что разработанный метод уступает по скорости вычисления положения ИС первым двум методам, но стоит также учесть, что разработанный метод выполняет это единожды, а не в каждом кадре, как в других методах, что позволяет использовать больше вычислительных ресурсов, например, на улчшение качества конечного изображения.

20 слайд.

В результате выполнения работы цель была достигнута, а также решены все поставленные задачи.

21 слайд.

В качестве дальнейшего развития можно реализовать автоматическое определение ориентации камеры в пространстве, а также определение типа источника света по характеру свечения (точечный, направленный и т. д.).